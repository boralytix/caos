# i64-to-i32

## üìù –£—Å–ª–æ–≤–∏–µ

–ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É `solution02_01.s` (—Å–∏–Ω—Ç–∞–∫—Å–∏—Å **Intel**), –∫–æ—Ç–æ—Ä–∞—è:

- —Å—á–∏—Ç—ã–≤–∞–µ—Ç **–∑–Ω–∞–∫–æ–≤–æ–µ 64-–±–∏—Ç–Ω–æ–µ** —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ —Ñ—É–Ω–∫—Ü–∏–µ–π `readi64` –∏–∑ [simpleio_x86_64.S](../../../asm/simpleio_x86_64.S);
- –µ—Å–ª–∏ —á–∏—Å–ª–æ **–ø–æ–º–µ—â–∞–µ—Ç—Å—è** –≤ –¥–∏–∞–ø–∞–∑–æ–Ω 32-–±–∏—Ç–Ω–æ–≥–æ –∑–Ω–∞–∫–æ–≤–æ–≥–æ —Ü–µ–ª–æ–≥–æ ‚Äî –≤—ã–≤–æ–¥–∏—Ç –µ–≥–æ —Å –ø–æ–º–æ—â—å—é `writei32`;
- –µ—Å–ª–∏ —á–∏—Å–ª–æ **–º–µ–Ω—å—à–µ** `INT32_MIN` ‚Äî –≤—ã–≤–æ–¥–∏—Ç `INT32_MIN`;
- –µ—Å–ª–∏ —á–∏—Å–ª–æ **–±–æ–ª—å—à–µ** `INT32_MAX` ‚Äî –≤—ã–≤–æ–¥–∏—Ç `INT32_MAX`;
- –∑–∞—Ç–µ–º –ø–µ—á–∞—Ç–∞–µ—Ç –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏ (`nl`) –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É (`finish`).

### –ü—Ä–∏–º–µ—Ä
```text
–í–≤–æ–¥:   9223372036854775807
–í—ã–≤–æ–¥:  2147483647
```

## ‚ÑπÔ∏è –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ `simpleio_x86_64.S`:  
  `readi64`, `writei32`, `nl`, `finish`.

- –ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ `readi64`:
    - –º–ª–∞–¥—à–∏–µ 32 –±–∏—Ç–∞ —á–∏—Å–ª–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `EAX`;
    - —Å—Ç–∞—Ä—à–∏–µ 32 –±–∏—Ç–∞ (–∑–Ω–∞–∫–æ–≤–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ) ‚Äî –≤ `EDX`.

- –ì—Ä–∞–Ω–∏—Ü—ã –¥–∏–∞–ø–∞–∑–æ–Ω–∞:
    - `INT32_MIN = -2147483648`
    - `INT32_MAX =  2147483647`

- –í –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ —É–∫–∞–∂–∏—Ç–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—É:
```asm
.intel_syntax noprefix
```

## ‚öôÔ∏è –ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç—ã

```bash
cd hw/lab02/01_i64_to_i32
make
python3 -m unittest -v
```

## üß™ –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
./i64_to_i32
```

### –ü—Ä–∏–º–µ—Ä—ã –≤–≤–æ–¥–∞ –∏ –≤—ã–≤–æ–¥–∞

| –í–≤–æ–¥ | –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ |
|------|------------------|
| 0 | 0 |
| 42 | 42 |
| -42 | -42 |
| 2147483648 | 2147483647 |
| -2147483649 | -2147483648 |
| 9223372036854775807 | 2147483647 |
| -9223372036854775808 | -2147483648 |

## üê≥ –†–∞–±–æ—Ç–∞ –≤ Docker

### 1. –°–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞ (–µ—Å–ª–∏ –µ–≥–æ –µ—â—ë –Ω–µ—Ç)

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–æ—Ä–µ–Ω—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –≥–¥–µ –ª–µ–∂–∏—Ç [Dockerfile](../../../Dockerfile) –∫—É—Ä—Å–∞, –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
docker build -t my-intel .
```

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–±—Ä–∞–∑ –¥–æ—Å—Ç—É–ø–µ–Ω:
```bash
docker images | grep my-intel
```

### 2. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
docker run -it --rm -v "$(pwd)":/workspace -w /workspace my-intel
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:
- –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—Ä–∞–∑–∞ `my-intel`;
- –º–æ–Ω—Ç–∏—Ä—É–µ—Ç —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–æ –ø—É—Ç–∏ `/workspace`;
- –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç bash –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º –∏ —Å–±–æ—Ä–∫–∏ –∑–∞–¥–∞—á.

### 3. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
cd hw/lab02/01_i64_to_i32
make
./i64_to_i32
```

–î–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å:
```bash
python3 -m unittest -v
```

### 4. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
exit
```

–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ `Ctrl + D`.

## üßπ –û—á–∏—Å—Ç–∫–∞

```bash
make clean
```

## üöÄ –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã –≤ GitHub Actions

```bash
git add .
git commit -m "lab02: i64-to-i32"
git push   # —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤ Actions ‚úÖ
```
