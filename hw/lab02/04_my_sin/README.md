# my-sin

## üìù –£—Å–ª–æ–≤–∏–µ

–ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É `solution02_04.s` (—Å–∏–Ω—Ç–∞–∫—Å–∏—Å **Intel**), –∫–æ—Ç–æ—Ä–∞—è —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é  
`double my_sin(double x);` –ø–æ —Ä—è–¥—É –¢–µ–π–ª–æ—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É—è **—Ç–æ–ª—å–∫–æ** –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ `double` (—Å–ª–æ–∂–µ–Ω–∏–µ, –≤—ã—á–∏—Ç–∞–Ω–∏–µ, —É–º–Ω–æ–∂–µ–Ω–∏–µ, –¥–µ–ª–µ–Ω–∏–µ).  
–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤—ã—á–∏—Å–ª—è—Ç—å —Å—É–º–º—É –ø–µ—Ä–≤—ã—Ö `N` —á–ª–µ–Ω–æ–≤ —Ä—è–¥–∞:
```text
sin(x) = Œ£_{n=0}^{N-1} (-1)^n * x^(2n+1) / (2n+1)!
```
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–∑—è—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ `N = 15`.

### –ü—Ä–∏–º–µ—Ä
```text
–í–≤–æ–¥:
1.000000
–í—ã–≤–æ–¥:
0.8414709848
```

## ‚ÑπÔ∏è –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

- –°–∏–≥–Ω–∞—Ç—É—Ä–∞: `extern double my_sin(double x);`
- –í—ã–∑–æ–≤/–≤–æ–∑–≤—Ä–∞—Ç –ø–æ **System V AMD64**: –∞—Ä–≥—É–º–µ–Ω—Ç –≤ `xmm0`, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –≤ `xmm0`.
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∞—Å—Å–µ–º–±–ª–µ—Ä–∞:
```asm
.intel_syntax noprefix
```
- –£–¥–æ–±–Ω–∞—è —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞ –¥–ª—è –æ—á–µ—Ä–µ–¥–Ω–æ–≥–æ —á–ª–µ–Ω–∞:
```text
t0 = x
t_{n+1} = - t_n * (x^2) / ((2n+2)*(2n+3))
```
- –ó–∞–ø—Ä–µ—â–µ–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã–µ —Ç—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (`sin`, `sinf`, `sinl`, `pow`, `tgamma`, –∏ —Ç.–ø.).

## ‚öôÔ∏è –ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç—ã

```bash
cd hw/lab02/04_my_sin       # –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É –∑–∞–¥–∞—á–∏
make                        # —Å–±–æ—Ä–∫–∞ (–ª–∏–Ω–∫–æ–≤–∫–∞ —Å tests/harness.c)
make run                    # —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (–≤–≤–æ–¥ x —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã)
make test                   # –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å math.sin)
```

> üí° –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –Ω–∞ macOS, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `dev-intel`:
> ```bash
> docker run -it --rm -v "$(pwd)":/workspace -w /workspace dev-intel
> cd hw/lab02/04_my_sin
> make && make test
> ```

## üß™ –ü—Ä–∏–º–µ—Ä—ã –≤–≤–æ–¥–∞ –∏ –≤—ã–≤–æ–¥–∞

| –í–≤–æ–¥ | –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ (‚âà) |
|------|----------------------|
| 0.000000 | 0.0000000000 |
| 1.000000 | 0.8414709848 |
| -1.000000 | -0.8414709848 |
| 3.000000 | 0.1411200081 |

## üê≥ –†–∞–±–æ—Ç–∞ –≤ Docker

### 1. –°–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞

```bash
docker build -t dev-intel .
```

### 2. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
docker run -it --rm -v "$(pwd)":/workspace -w /workspace dev-intel
```

### 3. –°–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
cd hw/lab02/04_my_sin
make
make test
```

### 4. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
exit
```

–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ `Ctrl + D`.

## üßπ –û—á–∏—Å—Ç–∫–∞

```bash
make clean
```

## üöÄ –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã –≤ GitHub Actions

```bash
git add .
git commit -m "lab02: my-sin"
git push   # —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤ Actions ‚úÖ
```
