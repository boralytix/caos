# countdown

## üìù –£—Å–ª–æ–≤–∏–µ

–ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É `solution02_02.s` (—Å–∏–Ω—Ç–∞–∫—Å–∏—Å **Intel**), –∫–æ—Ç–æ—Ä–∞—è:

- —Å—á–∏—Ç—ã–≤–∞–µ—Ç **–∑–Ω–∞–∫–æ–≤–æ–µ 32-–±–∏—Ç–Ω–æ–µ** —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ `n` —Ñ—É–Ω–∫—Ü–∏–µ–π `readi32` –∏–∑ `simpleio_x86_64.S`;
- –µ—Å–ª–∏ `n >= 0`, –≤—ã–≤–æ–¥–∏—Ç –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª **–æ—Ç `n` –¥–æ `0` –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ** –≤ –ø–æ—Ä—è–¥–∫–µ —É–±—ã–≤–∞–Ω–∏—è (–∫–∞–∂–¥–æ–µ —á–∏—Å–ª–æ —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏);
- –µ—Å–ª–∏ `n < 0`, **–Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–≤–æ–¥–∏—Ç**;
- –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø–µ—á–∞—Ç–∞–µ—Ç –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏ **–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è** (–∫–∞–∂–¥–æ–µ —á–∏—Å–ª–æ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–π—Ç–µ `nl`), –∑–∞—Ç–µ–º –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É (`finish`).

### –ü—Ä–∏–º–µ—Ä
```text
–í–≤–æ–¥:
5
–í—ã–≤–æ–¥:
5
4
3
2
1
0
```

## ‚ÑπÔ∏è –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ `simpleio_x86_64.S`:  
  `readi32`, `writei32`, `nl`, `finish`.
- –ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ `readi32` –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `EAX`.
- –í –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ —É–∫–∞–∂–∏—Ç–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—É:
```asm
.intel_syntax noprefix
```

## ‚öôÔ∏è –ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç—ã

```bash
cd hw/lab02/02_countdown     # –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É –∑–∞–¥–∞—á–∏
make                          # —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã
make run                      # —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (–≤–≤–æ–¥ —á–∏—Å–ª–∞ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã)
make test                     # –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã (unittest discover)
```

> üí° –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –Ω–∞ macOS, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `dev-intel`:
> ```bash
> docker run -it --rm -v "$(pwd)":/workspace -w /workspace dev-intel
> cd hw/lab02/02_countdown
> make && make test
> ```

## üß™ –ü—Ä–∏–º–µ—Ä—ã –≤–≤–æ–¥–∞ –∏ –≤—ã–≤–æ–¥–∞

| –í–≤–æ–¥ | –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ |
|------|------------------|
| 3 | 3<br>2<br>1<br>0 |
| 0 | 0 |
| -5 | *(–ø—É—Å—Ç–æ–π –≤—ã–≤–æ–¥)* |

## üê≥ –†–∞–±–æ—Ç–∞ –≤ Docker

### 1. –°–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞

```bash
docker build -t dev-intel .
```

### 2. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
docker run -it --rm -v "$(pwd)":/workspace -w /workspace dev-intel
```

### 3. –°–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
cd hw/lab02/02_countdown
make
make test
```

### 4. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
exit
```

–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ `Ctrl + D`.

## üßπ –û—á–∏—Å—Ç–∫–∞

```bash
make clean
```

## üöÄ –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã –≤ GitHub Actions

```bash
git add .
git commit -m "lab02: countdown"
git push   # —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤ Actions ‚úÖ
```
